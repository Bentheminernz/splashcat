{% extends "base.html" %}

{% block content %}
    <h1 class="text-2xl font-splatoon1">
        {% block title %}Embed Images{% endblock %}
    </h1>

    <p class="text-lg">
        Show off your Splatoon stats with embed images! These can be embedded on your website or in forum signatures.
    </p>

    <p class="text-sm">
        Images are cached for 5 minutes after generation.
    </p>

    <h2 class="text-xl font-splatoon1">Profile Stats</h2>
    {% with embeds='stats splashtag gear' %}
        {% for embed_name in embeds.split %}
            <h3 class="text-lg">{{ embed_name|capfirst }}</h3>
            <img src="https://cdn.splashcat.ink/image-render/embeds/user/@{{ user.username }}/{{ embed_name }}/render.png?class=embedimage"
                 alt="" height="200" class="w-auto">
            <label for="url-{{ embed_name }}">Image URL</label>
            <textarea name="" id="url-{{ embed_name }}" readonly
                      class="select-all-textarea font-mono text-sm [field-sizing:content]"
                      rows="2">https://cdn.splashcat.ink/image-render/embeds/user/@{{ user.username }}/{{ embed_name }}/render.png?class=embedimage</textarea>
            <label for="html-{{ embed_name }}">HTML</label>
            <textarea name="" id="html-{{ embed_name }}" readonly
                      class="select-all-textarea font-mono text-sm [field-sizing:content]"
                      rows="2"><a href="https://splashcat.ink/@{{ user.username }}/"><img src="https://cdn.splashcat.ink/image-render/embeds/user/@{{ user.username }}/{{ embed_name }}/render.png?class=embedimage" alt=""></a></textarea>
            <label for="markdown-{{ embed_name }}">Markdown</label>
            <textarea name="" id="markdown-{{ embed_name }}" readonly
                      class="select-all-textarea font-mono text-sm [field-sizing:content]"
                      rows="2">[![](https://cdn.splashcat.ink/image-render/embeds/user/@{{ user.username }}/{{ embed_name }}/render.png?class=embedimage)](https://splashcat.ink/@{{ user.username }}/)</textarea>
            <label for="bbcode-{{ embed_name }}">BBCode</label>
            <textarea name="" id="bbcode-{{ embed_name }}" readonly
                      class="select-all-textarea font-mono text-sm [field-sizing:content]"
                      rows="2">[URL=https://splashcat.ink/@{{ user.username }}/][IMG]https://cdn.splashcat.ink/image-render/embeds/user/@{{ user.username }}/{{ embed_name }}/render.png?class=embedimage[/IMG][/URL]</textarea>
        {% endfor %}
    {% endwith %}

    <script>
		document.addEventListener('DOMContentLoaded', (event) => {
			let textAreas = document.querySelectorAll('.select-all-textarea');
			textAreas.forEach((textarea) => {
				textarea.addEventListener('focus', () => {
					textarea.select();
				});
			});
		});
    </script>
{% endblock %}
