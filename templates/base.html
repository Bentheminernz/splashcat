{% load static %}
{% load django_htmx %}
{% load unicorn %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock %} | Splashcat</title>
    <link rel="preconnect" href="https://cdn.splashcat.ink">
    <link rel="dns-prefetch" href="https://cdn.splashcat.ink">
    <link rel="preload" as="script" href="{% static 'js/index.js' %}">
    <link rel="preload" href="{% static 'fonts/splatnet3/Splatoon1-common.woff2' %}" as="font" type="font/woff2"
          crossorigin>
    <link rel="preload" href="{% static 'fonts/splatnet3/Splatoon2-common.woff2' %}" as="font" type="font/woff2"
          crossorigin>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
          content="{% block description %}Splashcat records battle data for later analysis.{% endblock %}">
    <meta name="keywords" content="splashcat,splatoon,battle,stats,statistics">
    <link rel="icon" href="{% static 'images/judd-pride.png' %}"/>

    <script
            src="https://js.sentry-cdn.com/656fdd98ff1a4c389b37c00a96e33513.min.js"
            crossorigin="anonymous"
    ></script>
    <script src="{% static 'js/index.js' %}" defer></script>
    {% django_htmx_script %}
    {% unicorn_scripts %}

    <script defer data-domain="splashcat.ink"
            event-user_type="


                    {% if user.is_authenticated %}{% if user.github_link.is_sponsor %}sponsor{% else %}user{% endif %}{% else %}guest{% endif %}"
            src="https://plausible.io/js/script.tagged-events.pageview-props.outbound-links.js"></script>

    <meta property="og:type" content="website">
    {% block opengraph_head %}
        <meta property="og:title" content="Splashcat">
        <meta property="og:description" content="Splashcat records battle data for later analysis.">
    {% endblock %}
</head>
<body hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'>
{% csrf_token %}
<header>
    {% include 'includes/navbar.html' %}
</header>

<div class="container">
    {% if messages %}
        <div class="flex flex-col gap-2 py-2">
            {% for message in messages %}
                <div class="p-2 bg-purple-800 rounded
                        {% if message.tags %}{{ message.tags }}{% endif %}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}

    <main role="main" class="py-3">
        {% block content %}{% endblock %}
    </main>
</div>

<footer class="border-top footer text-muted bg-gray-800/70 py-4">
    <div class="container">
        <img src="{% static 'images/judd-pride.png' %}?height=256" alt="Judd with a LGBTQ and transgender pride flag"
             class="float-right h-32">
        <div class="text-lg">Splashcat</div>
        <div class="text-sm">This website is not affiliated with Nintendo. All product names, logos, and brands are
            property of their respective owners.
        </div>
        <div class="py-4 flex flex-row flex-wrap gap-4">
            <a href="https://github.com/splashcat-ink/splashcat"
               class="bg-purple-600 hover:bg-purple-700 rounded p-4 my-auto">GitHub</a>
            <a href="https://discord.gg/JPFwvbSWMS"
               class="bg-purple-600 hover:bg-purple-700 rounded p-4 my-auto">Discord</a>
        </div>
    </div>
</footer>
</body>
</html>